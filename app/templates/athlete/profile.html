{% extends "shared/base.html" %}

{% block content %}
<section class="section dashboard">
  <div class="row">

    <!-- Left side columns -->
    <div class="col-lg-8">
      <div class="row">

        <!-- Name & Weight Card -->
        <div class="col-xxl-4 col-md-6">
          <div class="card info-card sales-card">
            <div class="card-body">
              <h5 class="card-title">{{ user.full_name or "Unknown User" }}</h5>
              <div class="d-flex align-items-center">
                <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                  <i class="bi bi-person"></i>
                </div>
                <div class="ps-3">
                  <h6>{{ user.weight or '--' }} kg</h6>
                  <span class="text-muted small">Weight</span>
                </div>
              </div>
            </div>
          </div>
        </div><!-- End -->

        <!-- Height Card -->
        <div class="col-xxl-4 col-md-6">
          <div class="card info-card revenue-card">
            <div class="card-body">
              <h5 class="card-title">Height</h5>
              <div class="d-flex align-items-center">
                <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                  <i class="bi bi-rulers"></i>
                </div>
                <div class="ps-3">
                  <h6>{{ user.height or '--' }} cm</h6>
                  <span class="text-muted small">Height</span>
                </div>
              </div>
            </div>
          </div>
        </div><!-- End -->

        <!-- Age Card -->
        <div class="col-xxl-4 col-xl-12">
          <div class="card info-card customers-card">
            <div class="card-body">
              <h5 class="card-title">Age</h5>
              <div class="d-flex align-items-center">
                <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                  <i class="bi bi-calendar"></i>
                </div>
                <div class="ps-3">
                  <h6>{{ user.age or '--' }} years</h6>
                  <span class="text-muted small">Age</span>
                </div>
              </div>
            </div>
          </div>
        </div><!-- End -->

        <!-- Account Details -->
        <div class="col-12">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Account</h5>

              <div class="row">
                <div class="col-md-6">
                  <div class="profile-info">
                    <div class="info-item d-flex justify-content-between py-2">
                      <span class="text-muted">Name</span>
                      <span>{{ user.full_name or "--" }} <i class="bi bi-chevron-right"></i></span>
                    </div>
                    <div class="info-item d-flex justify-content-between py-2">
                      <span class="text-muted">Gender</span>
                      <span>{{ user.gender or "--" }} <i class="bi bi-chevron-right"></i></span>
                    </div>
                    <div class="info-item d-flex justify-content-between py-2">
                      <span class="text-muted">Date of birth</span>
                      <span>{{ user.dob or "--" }} <i class="bi bi-chevron-right"></i></span>
                    </div>
                    <div class="info-item d-flex justify-content-between py-2">
                      <span class="text-muted">Max heart rate</span>
                      <span>{{ user.max_hr or "--" }} bpm <i class="bi bi-chevron-right"></i></span>
                    </div>
                  </div>
                </div>

                <div class="col-md-6">
                  <div class="account-actions">
                    <div class="info-item d-flex justify-content-between py-2">
                      <span>My Workouts</span>
                      <i class="bi bi-chevron-right"></i>
                    </div>
                    <div class="info-item d-flex justify-content-between py-2">
                      <span>Workout reminders</span>
                      <i class="bi bi-chevron-right"></i>
                    </div>
                    <div class="text-center mt-3">
                      <a href="{{ url_for('auth.logout') }}" class="btn btn-primary">Log out</a>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div><!-- End Account -->

      </div>
    </div><!-- End Left side columns -->

    <!-- Right side columns -->
    <div class="col-lg-4">

      <!-- Settings -->
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Settings</h5>
          <div class="settings-list">
            <div class="setting-item d-flex justify-content-between align-items-center py-2">
              <span>Notification</span>
              <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" checked>
              </div>
            </div>
            <div class="setting-item d-flex justify-content-between align-items-center py-2">
              <span>Dark Mode</span>
              <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" id="darkModeToggle">
              </div>
            </div>
          </div>
        </div>
      </div><!-- End Settings -->

      <!-- Weight tracking -->
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Weight tracking</h5>
          <div class="weight-entries">
            {% for entry in weight_history %}
            <div class="weight-entry d-flex justify-content-between align-items-center py-2">
              <div>
                <div class="date">{{ entry.date }}</div>
                <div class="weight">{{ entry.value }} kg</div>
              </div>
              <div class="change {{ 'text-success' if entry.change >= 0 else 'text-danger' }}">
                {{ entry.change }} kg
              </div>
            </div>
            {% else %}
            <p class="text-muted small">No weight records yet.</p>
            {% endfor %}
          </div>
        </div>
      </div><!-- End Weight -->

    </div><!-- End Right side -->

  </div>
</section>
{% endblock %}
